<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Bowl Game</title>
</head>

<script>
    // load in list of team objects from local storage
    var teams = JSON.parse(localStorage.getItem("teams"));

    window.onload = function() {
        // populate team selection buttons with actual team names
        var team1Label = document.getElementById("team1RadioLabel");
        team1Label.innerHTML = teams[0].name;
        var team2Label = document.getElementById("team2RadioLabel");
        team2Label.innerHTML = teams[1].name;    
    }

    function addUserToTeam(newUser) {
        // add new user to team depending on which button is selected
        if (document.getElementById("team1Radio").checked == true) {
            teams[0].members.push(newUser);
            //localStorage.setItem("team1", JSON.stringify(team1));
        }
        else if (document.getElementById("team2Radio").checked == true) {
            teams[1].members.push(newUser);
            //localStorage.setItem("team2", JSON.stringify(team2));
        }
        localStorage.setItem("team2", JSON.stringify(teams));
    }

    function createUser() {
        // create user based on form input and add their words to the user object
        let user = document.getElementById("user_id").value;
        let item1 = document.getElementById("noun1").value;
        let item2 = document.getElementById("noun2").value;
        let item3 = document.getElementById("noun3").value;
        let newUser = {username:user, wordsList:[item1, item2, item3]};
        addUserToTeam(newUser)

        // clear text fields
        document.getElementById("user_id").value = "";
        document.getElementById("noun1").value = "";
        document.getElementById("noun2").value = "";
        document.getElementById("noun3").value = "";
    }
</script>

<body>
    <header>
        <h1>The Bowl Game</h1>
        <link href="styles/style.css" rel="stylesheet" type="text/css">
    </header>
    <main>
        <h2>Game Prep</h2>
        <h3>Create a Username:</h3>
        <input type="text" id="user_id" onfocus="this.value=''" value="Create Username">
        <input type="radio" id="team1Radio" name="teamSelect" value="team1">
        <label for="team1Radio" id="team1RadioLabel">Team #1</label> 
        <input type="radio" id="team2Radio" name="teamSelect" value="team2">
        <label for="team2Radio" id="team2RadioLabel">Team #2</label> 
        
        <h3>Enter a few nouns:</h3>
        <ul>
            <li><input type="text" id="noun1" onfocus="this.value=''" value="Person, Place or Thing"></li>
            <li><input type="text" id="noun2" onfocus="this.value=''" value="Person, Place or Thing"></li>
            <li><input type="text" id="noun3" onfocus="this.value=''" value="Person, Place or Thing"></li>
        </ul>
        <button type="button"><a href="#" onclick="createUser()">Create Another User</a></button>
        <button type="button"><a href="teamSummary.html" onclick="createUser()">Done</a></button>
    </main>
</body>
</html>