<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Bowl Game</title>
</head>

<script>
    // changes Team 1 and Team 2 to user defined team names
    window.onload = function() {
        var team1Label = document.getElementById("team1RadioLabel");
        var team1 = JSON.parse(localStorage.getItem("team1"));
        team1Label.innerHTML = team1.name;
        var team2Label = document.getElementById("team2RadioLabel");
        var team2 = JSON.parse(localStorage.getItem("team2"));
        team2Label.innerHTML = team2.name;    
    }
    const wordArray = [];
    const userArray = [];
    function createUser() {
        let team1 = JSON.parse(localStorage.getItem("team1"));
        let team2 = JSON.parse(localStorage.getItem("team2"));
        let user = document.getElementById("user_id").value;
        let item1 = document.getElementById("noun1").value;
        let item2 = document.getElementById("noun2").value;
        let item3 = document.getElementById("noun3").value;
        let newUser = {username:user, wordsList:[item1, item2, item3]};
        localStorage.setItem(newUser.username, JSON.stringify(newUser)); //sessionStorage? no need to store at all?
        if (document.getElementById("team1Radio").checked == true) {
            team1.members.push(newUser);
            localStorage.setItem("team1", JSON.stringify(team1));
            
        }
        else {
            team2.members.push(newUser);
            localStorage.setItem("team2", JSON.stringify(team2));
        }


        //clear text fields
        document.getElementById("user_id").value = "";
        document.getElementById("noun1").value = "";
        document.getElementById("noun2").value = "";
        document.getElementById("noun3").value = "";
    }
</script>

<body>
    <header>
        <h1>The Bowl Game</h1>
        <link href="styles/style.css" rel="stylesheet" type="text/css">
    </header>
    <main>
        <h2>Game Prep</h2>
        <h3>Create a Username:</h3>
        <input type="text" id="user_id" onfocus="this.value=''" value="Create Username">
        <input type="radio" id="team1Radio" name="teamSelect" value="team1">
        <label for="team1Radio" id="team1RadioLabel">Team #1</label> 
        <input type="radio" id="team2Radio" name="teamSelect" value="team2">
        <label for="team2Radio" id="team2RadioLabel">Team #2</label> 
        
        <h3>Enter a few nouns:</h3>
        <ul>
            <li><input type="text" id="noun1" onfocus="this.value=''" value="Person, Place or Thing"></li>
            <li><input type="text" id="noun2" onfocus="this.value=''" value="Person, Place or Thing"></li>
            <li><input type="text" id="noun3" onfocus="this.value=''" value="Person, Place or Thing"></li>
        </ul>
        <button type="button"><a href="#" onclick="createUser()">Create Another User</a></button>
        <button type="button"><a href="teamSummary.html" onclick="createUser()">Done</a></button>
    </main>
</body>
</html>